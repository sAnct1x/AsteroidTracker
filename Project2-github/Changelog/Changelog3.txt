Here is a changelog based on the modifications we made to the script today.

## Changelog

### Pass 1: Code Cleanup and Redundancy Removal

* **Refactored Data Pipeline:** Removed the calculation for the `df_haz_7_days` DataFrame from the `run_data_pipeline` function, as it was not being used in any of the plots.
* **Updated Function Arguments:** Modified the global `pipeline_results` variable and the `create_and_show_plot` function definition to pass and accept only three DataFrames (`df_non_hazardous_close`, `df_haz_30_days`, `df_haz_6_months`) instead of four.
* **Removed Duplicate Comments:** Deleted a redundant "Skyfield Integration & 3D Visualization" markdown block.

### Pass 2: Debugging Interactivity

* **Added Logging to `on_pick`:** Inserted `print()` statements into the `on_pick` event handler to provide real-time feedback in the terminal. This now shows which asteroid is clicked and whether the element fetching was successful or failed.
* **Added Error Details to API Call:** Modified the `except` block in the `try_fetch_sbdb_elements` function to print the *specific exception* (`e`). This helped identify the exact cause of API failures.

### Pass 3: API Error Handling

* **Fixed API List vs. Dictionary Error:** Addressed the `AttributeError: 'list' object has no attribute 'get'`. The `try_fetch_sbdb_elements` function was updated to check if the API's "orbit" response is a list. If it is, the code now correctly handles this by selecting the *first orbit* from the list (`orbit_data[0]`) to proceed.
* **Added Safety Check:** Added a check to the same function to ensure the `elements` object is not empty before trying to read data from it.